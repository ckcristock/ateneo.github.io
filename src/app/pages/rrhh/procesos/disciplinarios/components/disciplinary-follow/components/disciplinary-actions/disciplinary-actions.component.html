<app-modal titleModal="Agregar actuación">
  <form [formGroup]="formActions" class="row">
    <mat-form-field class="col" appearance="outline">
      <mat-label>Fecha de actuación</mat-label>
      <input matInput type="date" formControlName="date" />
    </mat-form-field>
    <mat-form-field class="col" appearance="outline">
      <mat-label>{{ loadingActions ? 'Cargando...' : 'Tipo' }}</mat-label>
      <mat-select formControlName="action_type_id">
        @for (state of actionTypes; track state.value) {
          <mat-option [value]="state.value"> {{ state.text }}</mat-option>
        }
      </mat-select>
    </mat-form-field>
    <mat-form-field class="col-md-12 mat-form-field-no-padding textarea" appearance="outline">
      <mat-label>Observaciones</mat-label>
      <textarea
        matInput
        placeholder="Ingrese las observaciones"
        rows="5"
        formControlName="description"
        name="description"
        [cdkTextareaAutosize]="true"
      ></textarea>
    </mat-form-field>
    <div class="col-md-12">
      <div class="form-group text-center">
        <label for="fileInvolved" class="custom-input-file col-md-12"> Cargar documentos </label>
        <input id="fileInvolved" type="file" class="d-none" (change)="onFileChanged($event)" />
        <div class="col-md-12 text-center">
          @if (loadFile) {
            <small class="text-success">Documentos cargados</small>
          }
        </div>
      </div>
    </div>
  </form>
  <button
    buttons
    type="button"
    class="btn btn-primary"
    [disabled]="formActions.invalid"
    (click)="newAction()"
  >
    Agregar
  </button>
</app-modal>
